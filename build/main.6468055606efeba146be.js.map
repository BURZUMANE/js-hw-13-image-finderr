{"version":3,"sources":["webpack:///./js/services/apiService.js","webpack:///./js/makeGridItems.js","webpack:///./js/images.js","webpack:///./templates/image-list.hbs"],"names":["page","query","baseUrl","key","loader","this","incrementPage","requestParams","fetchImages","PNotify","closeAll","console","log","fetch","then","response","success","title","text","animateSpeed","json","parsedResponse","hits","value","resetPage","makeGridItem","obj","container","document","createElement","classList","add","innerHTML","imageListTemplate","refs","searchForm","querySelector","imageList","loadMore","grid","addEventListener","e","preventDefault","inputValue","currentTarget","elements","imageService","searchQuery","querySelectorAll","msnry","remove","layout","clearListItems","images","appendedMarkUp","catch","error","warn","arr","forEach","item","makeGridItems","push","append","imgLoad","imagesLoaded","appended","on","bind","Masonry","columnWidth","itemSelector","percentPosition","transitionDuration","once","elem","InfiniteScroll","path","history","Handlebars","module","exports","template","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call"],"mappings":"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","file":"main.6468055606efeba146be.js","sourcesContent":["import PNotify from '../../../node_modules/pnotify/dist/es/PNotify';\n\nexport default {\n    page:1,\n    query: 'cats',\n    baseUrl: 'https://pixabay.com/api/',\n    key: '?key=16010994-0c285aac962bcd44e77124ee2',\n    loader(){\n        this.incrementPage();\n        const requestParams = `&q=${this.query}&page=${this.page}&per_page=12`;\n        return this.baseUrl + this.key + requestParams\n    },\n    fetchImages(){\n        PNotify.closeAll();\n        const requestParams = `&q=${this.query}&page=${this.page}&per_page=12`;\n        console.log(requestParams);\n        return fetch(this.baseUrl + this.key + requestParams).then(\n            response => {\n                PNotify.success({\n                    title: 'Success!',\n                    text: 'That thing that you were trying to do worked.',\n                    animateSpeed: 'fast'\n                  });\n                  \n                return response.json()}\n        ).then(parsedResponse => {\n            this.incrementPage()\n            return parsedResponse.hits;\n            \n        });\n    },\n    get searchQuery(){\n        return this.query;\n        \n    },\n    \n    set searchQuery(value){\n        this.query = value;\n    },\n    incrementPage(){\n        this.page +=1;\n    },\n    resetPage(){\n        this.page =1;\n    }\n}\n\n","import imageListTemplate from '../templates/image-list.hbs';\n\nconst makeGridItem = (obj) => {\n    const container = document.createElement('div');\n    container.classList.add('grid-item');\n    container.innerHTML = imageListTemplate(obj)\n\n    return container;\n}\n\nexport default makeGridItem;    ","import imageService from './services/apiService';\n// import spinner from './spinner';\nimport Masonry from 'masonry-layout';\nimport imagesLoaded from 'imagesloaded';\nimport makeGridItems from './makeGridItems';\nimport InfiniteScroll from 'infinite-scroll';\n\nconst refs = {\n    searchForm: document.querySelector('#search-form'),\n    imageList: document.querySelector('#gallery'),\n    loadMore: document.querySelector('button[data-action=\"load-more\"]'),\n    grid: document.querySelector('.grid'),\n}\n\nrefs.searchForm.addEventListener('submit', searchFormSubmitHandler);\nrefs.loadMore.addEventListener('click', loadMoreBtnHandler);\n\n\nlet currentHeight = 0;\n\n// LOAD MORE\n\nfunction loadMoreBtnHandler(e) {\n    // spinner.show()\n    imageService.fetchImages().then(images => {\n        // spinner.hide();\n        appendedMarkUp(images);\n    }).catch(error => {\n        console.warn(error);\n    });\n}\n\nfunction searchFormSubmitHandler(e) {\n    e.preventDefault();\n    // spinner.show();\n    let inputValue = e.currentTarget.elements.query.value;\n    imageService.resetPage();\n    imageService.searchQuery = inputValue;\n    e.currentTarget.elements.query.value = '';\n    clearListItems();\n    imageService.fetchImages().then(images => {\n            appendedMarkUp(images);\n\n        })\n        .catch(error => {\n            console.warn(error);\n        })\n};\n\n// APPEND \n\nfunction appendedMarkUp(arr) {\n    const elements = []\n    arr.forEach((arr) => {\n        const item = makeGridItems(arr)\n        elements.push(item);\n\n    });\n    refs.grid.append(...elements);\n    const imgLoad = imagesLoaded('.grid');\n    console.log(msnry)\n    msnry.appended(elements);\n    console.log(msnry)\n    imgLoad.on('progress', msnry.layout.bind(msnry));\n}\n\n// REMOVE\n\nfunction clearListItems() {\n    const elements = document.querySelectorAll('.grid-item');\n    msnry.remove(elements);\n    msnry.layout();\n\n}\n\n\n// MASONRY\nconst msnry = new Masonry('.grid', {\n\n    columnWidth: '.grid-sizer',\n    itemSelector: '.grid-item',\n    percentPosition: true,\n    transitionDuration: '0.2s'\n});\n\n// element\n\nconst imgLoad = imagesLoaded('.grid');\n\nimgLoad.once('progress', () => {\n    msnry.layout();\n});\n\n\nvar elem = document.querySelector('.container');\nvar infScroll = new InfiniteScroll(elem, {\n    // options\n    path() {\n        return imageService.loader()\n    },\n    append: '.post123',\n    history: false,\n});\n\n// infScroll.on( 'load', function( response ) {\n//     // parse response into JSON data\n//     var data = JSON.parse( response );\n//     // compile data into HTML\n//     var itemsHTML = data.map( getItemHTML ).join('');\n//     // convert HTML string into elements\n//     proxyElem.innerHTML = itemsHTML;\n//     // append item elements\n//     var items = proxyElem.querySelectorAll('.photo-item');\n//     imagesLoaded( items, function() {\n//       infScroll.appendItems( items );\n//       msnry.appended( items );\n//     });\n//   });\n  ","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"lihoto-card\\\">\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":14},\"end\":{\"line\":2,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" />\\n\\n    <ul class=\\\"stats\\\">\\n        <li class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\n            <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":18},\"end\":{\"line\":7,\"column\":27}}}) : helper)))\n    + \"</span>\\n        </li>\\n        <li class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">visibility</i>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":12},\"end\":{\"line\":11,\"column\":21}}}) : helper)))\n    + \"\\n        </li>\\n        <li class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">comment</i>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":12},\"end\":{\"line\":15,\"column\":24}}}) : helper)))\n    + \"\\n        </li>\\n        <li class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":12},\"end\":{\"line\":19,\"column\":25}}}) : helper)))\n    + \"\\n        </li>\\n    </ul>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}